---
date: 2025-11-22
tags:
  - node
---
### 文件：ros2_cpp_node.cpp
```
#include "rclcpp/rclcpp.hpp"

int main(int argc, char **argv)
{
    rclcpp::init(argc, argv);//传递参数给rclcpp初始化
    auto node = std::make_shared<rclcpp::Node>("cpp_node");//创建一个节点 make_shared智能指针
    RCLCPP_INFO(node->get_logger(), "Hello, ROS2 C++ Node!");//日志输出
    rclcpp::spin(node);//保持节点运行
    rclcpp::shutdown();//关闭rclcpp
    return 0;
}
```

### 配套的CMakeLists.txt
```
cmake_minimum_required(VERSION 3.22)
project(ros2_cpp)
add_executable(ros2_cpp_node ros2_cpp_node.cpp)

find_package(rclcpp REQUIRED)
target_include_directories(ros2_cpp_node PUBLIC ${rclcpp_INCLUDE_DIRS})
target_link_libraries(ros2_cpp_node ${rclcpp_LIBRARIES})
```